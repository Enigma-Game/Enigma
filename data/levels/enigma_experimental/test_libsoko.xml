<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<el:level xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://enigma-game.org/schema/level/1 level.xsd" xmlns:el="http://enigma-game.org/schema/level/1">
  <el:protected>
    <el:info el:type="level">
      <el:identity el:title="Libsoko - Test" el:subtitle="" el:id="test_libsoko"/>
      <el:version el:score="1" el:release="1" el:revision="3" el:status="experimental"/>
      <el:author el:name="Andreas Lochmann" el:email="" el:homepage=""/>
      <el:copyright>Copyright © 2007 Andreas Lochmann</el:copyright>
      <el:license el:type="GPL v2.0 or above" el:open="true"/>
      <el:compatibility el:enigma="1.10">
        <el:dependency el:path="lib/libsoko" el:id="lib/libsoko" el:release="1" el:preload="true"/>
        <el:dependency el:path="lib/liblua" el:id="lib/liblua" el:release="1" el:preload="true"/>
      </el:compatibility>
      <el:modes el:easy="true" el:single="true" el:network="false"/>
      <el:score el:easy="-" el:difficult="-"/>
    </el:info>
    <el:luamain><![CDATA[

level =   "  ###  ###\n"
        .."###.####.#\n"
        .."#    $   # ###\n"
        .."# # ###* # #  #\n"
        .."# @  $   #  ##\n"
        .."#######  #\n"
        .."      ####"

level2 =  "    ####            |"
       .."    #  ####         |"
       .."    # $   ######### |"
       .."    # .#    $ ##  # |"
       .."    # $# .## $    ##|"
       .." #### .###   #$    #|"
       .."##  ## #  .. # $$  #|"
       .."#  $      ...#   $ #|"
       .."# $  #####... #   ##|"
       .."#  $#   #  .**@#### |"
       .."###   # #    # #    |"
       .."  #####  ####  # #  |"
       .."      ##      ##    |"
       .."       ########     |"
  
multilevel =
  "\n"
.."\n"
.."     #####\n"
.."     #   #\n"
.."     #   #\n"
.."   ###   ##\n"
.."   #  $   #\n"
.."#### # ## #   ######\n"
.." #   # ## #####   .#\n"
.." #    $            #\n"
.." ##### ### #@##   .#\n"
.."     #     #########\n"
.."     #######\n"
.."> 2\n"
.."Hier steht etwas Text.\n"
.."\n"
.."Hier steht mehr Text.\n"
.."    \n"
.."Nächster Level:\n"
.."############\n"
.."#..  #     ###\n"
.."#..  # $  $  #\n"
.."#..  #$####  #\n"
.."#..    @ ##  #\n"
.."#..  # #  $ ##\n"
.."###### ##$ $ #\n"
.."  # $  $ $ $ #\n"
.."  #    #     #\n"
.."  ############\n"
.."              \n"
.."        ########\n"
.."        #     @#\n"
.."        # $#$ ##\n"
.."        # $  $#\n"
.."        ##$ $ #\n"
.."######### $ # ###\n"
.."#....  ## $  $  #\n"
.."##...    $  $   #\n"
.."#....  ##########\n"
.."########\n"

multilevel2 =
  "> 1\n"
.."###################\n"
.."###################\n"
.."###          ######\n"
.."## $######## ######\n"
.."##  $     #......##\n"
.."##  $@$ # $.*.#..##\n"
.."### ###$$ #......##\n"
.."######    #......##\n"
.."######$ ###.#######\n"
.."###     $      ####\n"
.."#### $ ####$ # ####\n"
.."###  $$ # $  $ ####\n"
.."### $$  # $#$  ####\n"
.."###  $$ #  $ $ ####\n"
.."####    ##     ####\n"
.."###################\n"
.."###################\n"
.."> 2\n"
.."###################\n"
.."###################\n"
.."##   #     ########\n"
.."##     $ $ ###  ..#\n"
.."###  ## # #### ...#\n"
.."#### ## $  ###$ #.#\n"
.."##    #$$$ ### ...#\n"
.."## $$ #    ###$ #.#\n"
.."##  $  ##  ##  ...#\n"
.."##   $ ##   $  $#.#\n"
.."### $######### ...#\n"
.."###     $ $ ##$$#.#\n"
.."###  $$ #   ## ...#\n"
.."#####  ##$$@##$ #.#\n"
.."#####      ###  ..#\n"
.."###################\n"
.."###################\n"
.."> 3\n"
.."###################\n"
.."###################\n"
.."#    ##...$...#   #\n"
.."# $$ ##$# ##..$ $ #\n"
.."###  #......... $ #\n"
.."#   ##....@####$  #\n"
.."# $$ ##...#####   #\n"
.."# #  ###.#######$ #\n"
.."# $ $     #       #\n"
.."#   #  $$ # $$ $$ #\n"
.."# ### ##  #  # # ##\n"
.."#   #  ## #    $ ##\n"
.."##     ##### # # ##\n"
.."####$$ ##### $$$  #\n"
.."####   #####      #\n"
.."###################\n"
.."###################\n"
.."> 4\n"
.."###################\n"
.."#  *....#       ###\n"
.."# $**....*  $ #@###\n"
.."# #.#...## #$$# ###\n"
.."# $.**##   #    ###\n"
.."# #.#.## $$# ######\n"
.."#  ....###   ######\n"
.."# $ # $# # $#######\n"
.."# # #    #  #######\n"
.."#    $ $ ##########\n"
.."# $##$# ## ########\n"
.."#   # # #  ########\n"
.."# $      $ ########\n"
.."# ## ## #$ ########\n"
.."# $  ##$   ########\n"
.."#         #########\n"
.."###################\n"
.."> 5\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."#####   ###   #####\n"
.."#####  $  $ # #####\n"
.."###### ##   $ #####\n"
.."###### #  # .######\n"
.."##### $#  ##.######\n"
.."#####  @$ *..######\n"
.."##### #$ *.*.######\n"
.."#####   ###########\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."> 6\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."######  ###########\n"
.."####.. $###########\n"
.."####*.  ###########\n"
.."####.$$ #   #######\n"
.."####.# $$   #######\n"
.."####.$  # # #######\n"
.."####.##@$   #######\n"
.."####. $ ##$ #######\n"
.."####.   ##  #######\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."> 7\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."######  ###########\n"
.."###### $##   ######\n"
.."###### .  $@*######\n"
.."######  #..# ######\n"
.."#######  $ # ######\n"
.."####### #*.$ ######\n"
.."#######$# $#  #####\n"
.."###### .    . #####\n"
.."######   ##########\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."###################\n"
.."> 8\n"
.."#################\n"
.."#  *....#       #\n"
.."# $**....*  $ #@#\n"
.."# #.#...## #$$# #\n"
.."# $.**##   #    ##\n"
.."# #.#.## $$# ##  #\n"
.."# .....###     $ #\n"
.."# $ #.*# # $#$$ $##\n"
.."# #.#... #      $ #\n"
.."# ...$ $ ###$$$   #\n"
.."# $## # ## #   $ ##\n"
.."#   # # #  # #$  #\n"
.."# $      $ #    ##\n"
.."# ##$## #$ ######\n"
.."# $  ##$   #\n"
.."#         ##\n"
.."###########\n"
.."> 9\n"
.." ########\n"
.." #  #   #\n"
.."##  .$  #\n"
.."# $#.#$##\n"
.."#@ . . #\n"
.."# $$.###\n"
.."## # #\n"
.." #   #\n"
.." #####\n"
.."> 10\n"
.."#####\n"
.."# #####\n"
.."# # . #\n"
.."# # * ##\n"
.."### *###\n"
.."##  $@ #\n"
.."## # # #\n"
.."##     #\n"
.."########\n"
.."> 11\n"
.." #####\n"
.."##   #\n"
.."#  #$####\n"
.."# .. .$ #\n"
.."#  # ## #\n"
.."# $ $ # #\n"
.."##@* .  #\n"
.." ###  ###\n"
.."   ####\n"
.."> 12\n"
.." #######\n"
.." #   * #\n"
.." #$# # ##\n"
.."## . $. #\n"
.."# @#..  #\n"
.."# $$  ###\n"
.."##   ##\n"
.." #####\n"
.."> 13\n"
.."  #####\n"
.."  #   #\n"
.."  #   #\n"
.." ## # #\n"
.."##   @##\n"
.."#  $#  #\n"
.."# #.   #\n"
.."#    # #\n"
.."#  #   #\n"
.."##   ###\n"
.." #####\n"

level13_no_actor =
 "> 13\n"
.."  #####\n"
.."  #   #\n"
.."  # $ #\n"
.." ## #$#\n"
.."##    ##\n"
.."#  .#$ #\n"
.."#.#*.. #\n"
.."#  . # #\n"
.."# $# $ #\n"
.."##   ###\n"
.." #####\n"

chessoban =
  "########\n"
.."#  NN@ #\n"
.."#  ##  #\n"
.."##    ##\n"
.."#  ##  #\n"
.."# #  # #\n"
.."#      #\n"
.."########\n"
.."\n\n"
.."#######\n"
.."#     #\n"
.."#  #  #\n"
.."##n#n##\n"
.."#  @  #\n"
.."#.   .#\n"
.."#######\n"



design_min = 1 --76
design_max = table.getn(lib.soko.design_list)

design_number = 77 --design_max

--create_sokoball(multilevel2, 1, 1)
lib.soko.create_sokoball(multilevel2, 13, design_number)
--create_sokoball(chessoban, 2)
--draw_sokoball(0, 0, chessoban, 2, nil, true) --leftending)
wo[{9,1}] = {"st_switch", target="design_minus_one"}
wo[{10,1}] = {"st_switch", target="design_plus_one"}
--design_statistics()

function leftending(nr)
  if nr == 2 then
    lib.soko.recreate_sokoball(150, 2)
  else
    error("Should never happen!")
  end
end


function design_minus_one()
  design_number = design_number - 1
  if design_number < design_min then
    design_number = design_max
  end
  lib.soko.recreate_sokoball(design_number)
  wo[{9,1}] = {"st_switch", target="design_minus_one"}
  wo[{10,1}] = {"st_switch", target="design_plus_one"}
end
function design_plus_one()
  design_number = design_number + 1
  if design_number > design_max then
    design_number = design_min
  end
  lib.soko.recreate_sokoball(design_number)
  wo[{9,1}] = {"st_switch", target="design_minus_one"}
  wo[{10,1}] = {"st_switch", target="design_plus_one"}
end

    ]]></el:luamain>
    <el:i18n>
      <el:string el:key="title">
        <el:english el:translate="false"/>
      </el:string>
    </el:i18n>
  </el:protected>
</el:level>
